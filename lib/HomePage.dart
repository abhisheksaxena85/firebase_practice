import 'dart:developer';import 'package:firebase_auth/firebase_auth.dart';import 'package:firebase_practice/user_page.dart';import 'package:flutter/material.dart';class HomePage extends StatefulWidget {  @override  State<HomePage> createState() => HomePageState();}class HomePageState extends State<HomePage> {  TextEditingController mobileController = TextEditingController();  late String ID;  bool isSendOtpClicked = false;  @override  Widget build(BuildContext context) {    return Scaffold(      appBar: AppBar(        title: const Text('Firebase Practice Project'),        centerTitle: true,        backgroundColor: Colors.blue,      ),      body: Container(          color: Colors.blue,          width: double.infinity,          height: double.infinity,          padding: const EdgeInsets.symmetric(horizontal: 10, vertical: 20),          alignment: Alignment.center,          child: Column(            mainAxisAlignment: MainAxisAlignment.center,            crossAxisAlignment: CrossAxisAlignment.center,            children: [              //mobile              TextField(                controller: mobileController,                decoration: const InputDecoration(                    enabledBorder: OutlineInputBorder(                        borderSide: BorderSide(                          color: Colors.white,                          width: 0.5,                        )                    ),                    focusedBorder: OutlineInputBorder(                        borderSide: BorderSide(                          color: Colors.white,                          width: 1.5,                        )                    ),                  hintText: "Mobile number",                  hintStyle: TextStyle(color: Colors.white),                ),                cursorColor: Colors.white,                style:const TextStyle(color: Colors.white),              ),              const SizedBox(height: 30,),              const SizedBox(height: 30,),              ElevatedButton(onPressed:isSendOtpClicked?(){}:(){                String mobile = "+91${mobileController.text.toString().trim()}";                sendOTP(mobile);              }, child: isSendOtpClicked? const CircularProgressIndicator(color: Colors.black,) :const Text("Send OTP",style: TextStyle(color: Colors.black),)),              const SizedBox(height: 30,),            ],          )),    );  }  void sendOTP(String mobile)async{    setState(()=> isSendOtpClicked = true);    FirebaseAuth.instance.verifyPhoneNumber(        phoneNumber: mobile,        codeSent: (verificationid,resendToken){          log('Code Sent $verificationid');          setState(()=> isSendOtpClicked = false);          Navigator.push(context, MaterialPageRoute(builder: (context)=> UserPage(verificationID: verificationid)));        },        verificationCompleted: (phoneAuthCredential) {          log(phoneAuthCredential.smsCode.toString());        },        verificationFailed: (error) {          log(error.code.toString());        },        codeAutoRetrievalTimeout: (verificationId) {        },        timeout: const Duration(seconds: 10)    );  }}